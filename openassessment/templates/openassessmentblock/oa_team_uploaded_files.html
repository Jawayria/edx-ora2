{% spaceless %}
{% load i18n %}

{% if file_upload_type %}
  <div class="{{ class_prefix }}__display__file {% if not team_file_urls %}is--hidden{% endif %} submission__{{ file_upload_type }}__upload" data-upload-type="{{ file_upload_type }}">
        {% if team_file_urls %}
        <h5 class="submission__answer__part__text__title">
          {% trans "Files that were uploaded by your teammates:" %}
        </h5>
        {% endif %}

        <div class="submission__answer__files">
        {# TeamFileDescriptor is defined in openassessment/fileupload/api.py #}
        {% for team_file_descriptor in team_file_urls %}
            <div class="submission__answer__team__file__block submission__answer__team__file__block__{{ forloop.counter0 }}" {% if not team_file_descriptor.download_url %} deleted {% endif %}>
            {% if team_file_descriptor.download_url %}
                {% if file_upload_type == "image" %}
                    {% if team_file_descriptor.description %}
                    <div class="submission__file__description__label" id="file_description_{{ xblock_id }}_{{ including_template }}_{{ forloop.counter0 }}">{{ team_file_descriptor.description }}:</div>
                    {% endif %}
                    <div><img class="submission__answer__file submission--image" src="{{ team_file_descriptor.download_url }}"
                            aria-labelledby="file_description_{{ xblock_id }}_{{ including_template }}_{{ forloop.counter0 }}" /></div>
                {% elif file_upload_type == "pdf-and-image" or file_upload_type == "custom" %}
                    <a href="{{ team_file_descriptor.download_url }}" class="submission__answer__file submission--file" target="_blank">
                        {% if team_file_descriptor.description %}
                        {{ team_file_descriptor.description }} ( {{team_file_descriptor.name}} )
                        {% else %}
                        {% trans "View the files associated with this submission:" %} #{{ forloop.counter }}
                        {% endif %}
                    </a>
                {% endif %}
                [{% trans "Uploaded by" %} <strong class="emphasis">{{ team_file_descriptor.uploaded_by }}</strong>]
            {% endif %}
            </div>
        {% endfor %}
        </div>
    </div>
{% endif %}

{% endspaceless %}
